<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Text to Morse Code</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-pink-50 min-h-screen flex items-center justify-center">

  <div class="bg-white w-full max-w-md p-6 rounded-2xl shadow-lg">

    <h2 class="text-2xl font-bold text-center mb-2">
      üì° Text to Morse Code
    </h2>

    <p class="text-center text-gray-500 mb-4">
      Convert text into Morse code instantly
    </p>

    <!-- Input -->
    <input
      id="textInput"
      type="text"
      placeholder="Enter text (e.g. teena)"
      class="w-full border p-2 rounded mb-4"
    />

    <!-- Button -->
    <button
      onclick="convertToMorse()"
      class="w-full bg-pink-500 hover:bg-pink-600 text-white py-2 rounded font-semibold"
    >
      Convert to Morse
    </button>

    <!-- Result -->
    <div id="result" class="mt-5 text-gray-700"></div>

  </div>

<script>
async function convertToMorse() {
  const text = document.getElementById("textInput").value.trim();
  const resultDiv = document.getElementById("result");

  if (!text) {
    resultDiv.innerHTML =
      "<p class='text-red-500'>‚ùå Please enter some text.</p>";
    return;
  }

  resultDiv.innerHTML = "‚è≥ Converting to Morse code...";

  try {
    const response = await fetch("http://127.0.0.1:8000/word-to-morse", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        text: text
      })
    });

    const data = await response.json();

    if (data.status !== "success") {
      resultDiv.innerHTML =
        "<p class='text-red-500'>‚ùå Conversion failed.</p>";
      return;
    }

    // ‚úÖ Proper display
    resultDiv.innerHTML = `
      <div class="bg-pink-100 p-4 rounded-lg text-center">
        <p class="mb-2"><strong>Input:</strong> ${data.input_text}</p>
        <p class="text-lg font-mono">
          <strong>Morse:</strong> ${data.morse_code}
        </p>
      </div>
    `;

  } catch (error) {
    resultDiv.innerHTML =
      "<p class='text-red-500'>‚ùå Server error. Try again.</p>";
  }
}
</script>

</body>
</html>
